/*!
 * EventEmitter v4.2.7 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,a=this,o=a.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,a=this.getListenersAsObject(e),o="object"==typeof n;for(r in a)a.hasOwnProperty(r)&&-1===t(a[r],n)&&a[r].push(o?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,a,o=this.getListenersAsObject(e);for(a in o)o.hasOwnProperty(a)&&(r=t(o[a],n),-1!==r&&o[a].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,a,o=e?this.removeListener:this.addListener,i=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(a=t[r])&&("function"==typeof a?o.call(this,r,a):i.call(this,r,a));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,a,o,i=this.getListenersAsObject(e);for(a in i)if(i.hasOwnProperty(a))for(r=i[a].length;r--;)n=i[a][r],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return a.EventEmitter=o,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this);/*!

 handlebars v1.3.0

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return s[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function r(e){return e instanceof i?""+e:e||0===e?(e=""+e,c.test(e)?e.replace(l,t):e):""}function a(e){return e||0===e?d(e)&&0===e.length?!0:!1:!0}var o={},i=e,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;o.extend=n;var u=Object.prototype.toString;o.toString=u;var h=function(e){return"function"==typeof e};h(/x/)&&(h=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)});var h;o.isFunction=h;var d=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===u.call(e):!1};return o.isArray=d,o.escapeExpression=r,o.isEmpty=a,o}(e),n=function(){"use strict";function e(e,t){var r;t&&t.firstLine&&(r=t.firstLine,e+=" - "+r+":"+t.firstColumn);for(var a=Error.prototype.constructor.call(this,e),o=0;n.length>o;o++)this[n[o]]=a[n[o]];r&&(this.lineNumber=r,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=Error(),t=e}(),r=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},r(this)}function r(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new s("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse||function(){},a=n.fn;return d(t)&&(t=t.call(this)),t===!0?a(this):t===!1||null==t?r(this):h(t)?t.length>0?e.helpers.each(t,n):r(this):a(t)}),e.registerHelper("each",function(e,t){var n,r=t.fn,a=t.inverse,o=0,i="";if(d(e)&&(e=e.call(this)),t.data&&(n=g(t.data)),e&&"object"==typeof e)if(h(e))for(var s=e.length;s>o;o++)n&&(n.index=o,n.first=0===o,n.last=o===e.length-1),i+=r(e[o],{data:n});else for(var l in e)e.hasOwnProperty(l)&&(n&&(n.key=l,n.index=o,n.first=0===o),i+=r(e[l],{data:n}),o++);return 0===o&&(i=a(this)),i}),e.registerHelper("if",function(e,t){return d(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return d(e)&&(e=e.call(this)),i.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)})}function a(e,t){m.log(e,t)}var o={},i=e,s=t,l="1.3.0";o.VERSION=l;var c=4;o.COMPILER_REVISION=c;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};o.REVISION_CHANGES=u;var h=i.isArray,d=i.isFunction,p=i.toString,f="[object Object]";o.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:m,log:a,registerHelper:function(e,t,n){if(p.call(e)===f){if(n||t)throw new s("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){p.call(e)===f?i.extend(this.partials,e):this.partials[e]=t}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(e>=m.level){var n=m.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};o.logger=m,o.log=a;var g=function(e){var t={};return i.extend(t,e),t};return o.createFrame=g,o}(t,n),a=function(e,t,n){"use strict";function r(e){var t=e&&e[0]||1,n=d;if(t!==n){if(n>t){var r=p[n],a=p[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+a+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){if(!t)throw new h("No environment passed to template");var n=function(e,n,r,a,o,i){var s=t.VM.invokePartial.apply(this,arguments);if(null!=s)return s;if(t.compile){var l={helpers:a,partials:o,data:i};return o[n]=t.compile(e,{data:void 0!==i},t),o[n](r,l)}throw new h("The partial "+n+" could not be compiled when running in runtime-only mode")},r={escapeExpression:u.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=i(e,t,n):r||(r=this.programs[e]=i(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},u.extend(n,t),u.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,a){a=a||{};var o,i,s=a.partial?a:t;a.partial||(o=a.helpers,i=a.partials);var l=e.call(r,s,n,o,i,a.data);return a.partial||t.VM.checkRevision(r.compilerInfo),l}}function o(e,t,n){var r=Array.prototype.slice.call(arguments,3),a=function(e,a){return a=a||{},t.apply(this,[e,a.data||n].concat(r))};return a.program=e,a.depth=r.length,a}function i(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r}function s(e,t,n,r,a,o){var i={partial:!0,helpers:r,partials:a,data:o};if(void 0===e)throw new h("The partial "+t+" could not be found");return e instanceof Function?e(n,i):void 0}function l(){return""}var c={},u=e,h=t,d=n.COMPILER_REVISION,p=n.REVISION_CHANGES;return c.checkRevision=r,c.template=a,c.programWithDepth=o,c.program=i,c.invokePartial=s,c.noop=l,c}(t,n,r),o=function(e,t,n,r,a){"use strict";var o,i=e,s=t,l=n,c=r,u=a,h=function(){var e=new i.HandlebarsEnvironment;return c.extend(e,i),e.SafeString=s,e.Exception=l,e.Utils=c,e.VM=u,e.template=function(t){return u.template(t,e)},e},d=h();return d.create=h,o=d}(r,e,n,t,a);return o}();if(this.JST=this.JST||{},Handlebars.registerPartial("rollyourown_group_corner",Handlebars.template(function(e,t,n,r,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var o,i="",s="function",l=this.escapeExpression;return i+='<div class="theme-group clearfix" id="global-corners">\n	<div class="theme-group-header state-default">\n		<span class="arrow-icon icon-triangle-1-e">Collapse</span>\n		<a href="#">Corner Radius</a>\n	</div><!-- /theme group header -->\n	<div class="theme-group-content corner-bottom clearfix">\n		<div class="field-group field-group-corners clearfix">\n			<label for="cornerRadius">Corners:</label>\n			<input type="text" value="',(o=n.cornerRadius)?o=o.call(t,{hash:{},data:a}):(o=t.cornerRadius,o=typeof o===s?o.apply(t):o),i+=l(o)+'" name="cornerRadius" id="cornerRadius" class="cornerRadius" />\n		</div>\n		<p id="cornerWarning"><em><strong>Note:</strong> ThemeRoller uses CSS3 border-radius for corner rounding, which is not supported by Internet Explorer 7 or 8.</em></p>\n	</div><!-- /theme group content -->\n</div><!-- /theme group -->\n\n'})),Handlebars.registerPartial("rollyourown_group_default",Handlebars.template(function(e,t,n,r,a){function o(e,t){var r,a="";return a+='\n					<option value="',(r=n.type)?r=r.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===l?r.apply(e):r),a+=c(r)+'"',(r=n.selected)?r=r.call(e,{hash:{},data:t}):(r=e.selected,r=typeof r===l?r.apply(e):r),a+=c(r)+' data-texturewidth="',(r=n.width)?r=r.call(e,{hash:{},data:t}):(r=e.width,r=typeof r===l?r.apply(e):r),a+=c(r)+'" data-textureheight="',(r=n.height)?r=r.call(e,{hash:{},data:t}):(r=e.height,r=typeof r===l?r.apply(e):r),a+=c(r)+'">',(r=n.name)?r=r.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===l?r.apply(e):r),a+=c(r)+"</option>\n				"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var i,s="",l="function",c=this.escapeExpression,u=this;return s+='<div class="theme-group clearfix" id="',(i=n.name)?i=i.call(t,{hash:{},data:a}):(i=t.name,i=typeof i===l?i.apply(t):i),s+=c(i)+'">\n	<div class="theme-group-header state-default">\n		<span class="arrow-icon icon-triangle-1-e">Collapse</span>\n		<div class="state-preview corner-all ',(i=n["class"])?i=i.call(t,{hash:{},data:a}):(i=t["class"],i=typeof i===l?i.apply(t):i),s+=c(i)+'">abc</div>\n		<a href="#">',(i=n.title)?i=i.call(t,{hash:{},data:a}):(i=t.title,i=typeof i===l?i.apply(t):i),s+=c(i)+'</a>\n	</div>\n	<div class="theme-group-content corner-bottom clearfix">\n		<div class="field-group field-group-background clearfix">\n			<label for="',(i=n.bgColorName)?i=i.call(t,{hash:{},data:a}):(i=t.bgColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" class="background">Background color &amp; texture</label>\n			<input type="text" name="',(i=n.bgColorName)?i=i.call(t,{hash:{},data:a}):(i=t.bgColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" id="',(i=n.bgColorName)?i=i.call(t,{hash:{},data:a}):(i=t.bgColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" class="hex" value="',(i=n.bgColorValue)?i=i.call(t,{hash:{},data:a}):(i=t.bgColorValue,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n			<select name="',(i=n.bgTextureName)?i=i.call(t,{hash:{},data:a}):(i=t.bgTextureName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" class="texture">\n				',i=n.each.call(t,t.bgTextureOptions,{hash:{},inverse:u.noop,fn:u.program(1,o,a),data:a}),(i||0===i)&&(s+=i),s+='\n			</select>\n			<input type="text" name="',(i=n.bgImgOpacityName)?i=i.call(t,{hash:{},data:a}):(i=t.bgImgOpacityName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" class="opacity" value="',(i=n.bgImgOpacityValue)?i=i.call(t,{hash:{},data:a}):(i=t.bgImgOpacityValue,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n			<span class="opacity-per">%</span>\n		</div>\n		<div class="field-group field-group-border clearfix">\n			<label for="',(i=n.borderColorName)?i=i.call(t,{hash:{},data:a}):(i=t.borderColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'">Border</label>\n			<input type="text" name="',(i=n.borderColorName)?i=i.call(t,{hash:{},data:a}):(i=t.borderColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" id="',(i=n.borderColorName)?i=i.call(t,{hash:{},data:a}):(i=t.borderColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" class="hex" value="',(i=n.borderColorValue)?i=i.call(t,{hash:{},data:a}):(i=t.borderColorValue,i=typeof i===l?i.apply(t):i),s+=c(i)+'" size="6" />\n		</div>\n		<div class="field-group clearfix">\n			<label for="',(i=n.fcName)?i=i.call(t,{hash:{},data:a}):(i=t.fcName,i=typeof i===l?i.apply(t):i),s+=c(i)+'">Text</label>\n			<input type="text" name="',(i=n.fcName)?i=i.call(t,{hash:{},data:a}):(i=t.fcName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" id="',(i=n.fcName)?i=i.call(t,{hash:{},data:a}):(i=t.fcName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" class="hex" value="',(i=n.fcValue)?i=i.call(t,{hash:{},data:a}):(i=t.fcValue,i=typeof i===l?i.apply(t):i),s+=c(i)+'" size="6" />\n		</div>\n		<div class="field-group clearfix">\n			<label for="',(i=n.iconColorName)?i=i.call(t,{hash:{},data:a}):(i=t.iconColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'">Icon</label>\n			<input type="text" name="',(i=n.iconColorName)?i=i.call(t,{hash:{},data:a}):(i=t.iconColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" id="',(i=n.iconColorName)?i=i.call(t,{hash:{},data:a}):(i=t.iconColorName,i=typeof i===l?i.apply(t):i),s+=c(i)+'" class="hex" value="',(i=n.iconColorValue)?i=i.call(t,{hash:{},data:a}):(i=t.iconColorValue,i=typeof i===l?i.apply(t):i),s+=c(i)+'" size="6" />\n		</div>\n	</div><!-- /theme group content -->\n</div><!-- /theme group -->\n'})),Handlebars.registerPartial("rollyourown_group_dropshadow",Handlebars.template(function(e,t,n,r,a){function o(e,t){var r,a="";return a+='\n					<option value="',(r=n.type)?r=r.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===l?r.apply(e):r),a+=c(r)+'"',(r=n.selected)?r=r.call(e,{hash:{},data:t}):(r=e.selected,r=typeof r===l?r.apply(e):r),a+=c(r)+' data-texturewidth="',(r=n.width)?r=r.call(e,{hash:{},data:t}):(r=e.width,r=typeof r===l?r.apply(e):r),a+=c(r)+'" data-textureheight="',(r=n.height)?r=r.call(e,{hash:{},data:t}):(r=e.height,r=typeof r===l?r.apply(e):r),a+=c(r)+'">',(r=n.name)?r=r.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===l?r.apply(e):r),a+=c(r)+"</option>\n				"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var i,s="",l="function",c=this.escapeExpression,u=this;return s+='<div class="theme-group clearfix" id="Shadow">\n	<div class="theme-group-header state-default">\n		<span class="arrow-icon icon-triangle-1-e">Collapse</span>\n		<a href="#">Drop Shadows</a>\n	</div><!-- /theme group Shadow -->\n	<div class="theme-group-content corner-bottom clearfix">\n		<div class="field-group field-group-background clearfix">\n			<label for="bgColorShadow" class="background">Background color &amp; texture</label>\n			<input type="text" name="bgColorShadow" id="bgColorShadow" class="hex" value="',(i=n.bgColorShadow)?i=i.call(t,{hash:{},data:a}):(i=t.bgColorShadow,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n			<select name="bgTextureShadow" class="texture">\n				',i=n.each.call(t,t.bgTextureShadowOptions,{hash:{},inverse:u.noop,fn:u.program(1,o,a),data:a}),(i||0===i)&&(s+=i),s+='\n			</select>\n			<input type="text" name="bgImgOpacityShadow" id="bgImgOpacityShadow" class="opacity" value="',(i=n.bgImgOpacityShadow)?i=i.call(t,{hash:{},data:a}):(i=t.bgImgOpacityShadow,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n			<span class="opacity-per">%</span>\n		</div>\n		<div class="field-group field-group-opacity clearfix" title="Not in use in 1.12 anymore">\n			<label for="opacityShadow">Shadow Opacity:</label>\n			<input type="text" name="opacityShadow" id="opacityShadow" class="opacity" value="',(i=n.opacityShadow)?i=i.call(t,{hash:{},data:a}):(i=t.opacityShadow,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n			<span class="opacity-per">%</span>\n		</div>\n		<div class="field-group clearfix">\n			<label for="thicknessShadow">Shadow Thickness:</label>\n			<input type="text" name="thicknessShadow" id="thicknessShadow" class="offset" value="',(i=n.thicknessShadow)?i=i.call(t,{hash:{},data:a}):(i=t.thicknessShadow,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n		</div>\n		<div class="field-group clearfix">\n			<label for="offsetTopShadow">Top Offset:</label>\n			<input type="text" name="offsetTopShadow" id="offsetTopShadow" class="offset" value="',(i=n.offsetTopShadow)?i=i.call(t,{hash:{},data:a}):(i=t.offsetTopShadow,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n		</div>\n		<div class="field-group clearfix">\n			<label for="offsetLeftShadow">Left Offset:</label>\n			<input type="text" name="offsetLeftShadow" id="offsetLeftShadow" class="offset" value="',(i=n.offsetLeftShadow)?i=i.call(t,{hash:{},data:a}):(i=t.offsetLeftShadow,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n		</div>\n		<div class="field-group field-group-corners clearfix" title="Not in use in 1.12 anymore">\n			<label for="cornerRadiusShadow">Corners:</label>\n			<input type="text" value="',(i=n.cornerRadiusShadow)?i=i.call(t,{hash:{},data:a}):(i=t.cornerRadiusShadow,i=typeof i===l?i.apply(t):i),s+=c(i)+'" name="cornerRadiusShadow" id="cornerRadiusShadow" class="cornerRadius" />\n		</div>\n	</div><!-- /theme group Shadow -->\n</div><!-- /theme group -->\n'})),Handlebars.registerPartial("rollyourown_group_font",Handlebars.template(function(e,t,n,r,a){function o(e,t){var r,a="";return a+='\n					<option value="',(r=n.type)?r=r.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===l?r.apply(e):r),a+=c(r)+'"',(r=n.selected)?r=r.call(e,{hash:{},data:t}):(r=e.selected,r=typeof r===l?r.apply(e):r),a+=c(r)+">",(r=n.name)?r=r.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===l?r.apply(e):r),a+=c(r)+"</option>\n				"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var i,s="",l="function",c=this.escapeExpression,u=this;return s+='<div class="theme-group clearfix" id="global-font">\n	<div class="theme-group-header state-default">\n		<span class="arrow-icon icon-triangle-1-e">Collapse</span>\n		<a href="#">Font Settings</a>\n	</div><!-- /theme group header -->\n	<div class="theme-group-content corner-bottom clearfix">\n		<div class="field-group clearfix">\n			<label for="ffDefault">Family</label>\n			<input type="text" name="ffDefault" id="ffDefault" class="ffDefault" value="',(i=n.ffDefault)?i=i.call(t,{hash:{},data:a}):(i=t.ffDefault,i=typeof i===l?i.apply(t):i),s+=c(i)+'" size="8" />\n		</div>\n		<div class="field-group clearfix">\n			<label for="fwDefault">Weight</label>\n			<select name="fwDefault" class="fwDefault" id="fwDefault">\n				',i=n.each.call(t,t.options,{hash:{},inverse:u.noop,fn:u.program(1,o,a),data:a}),(i||0===i)&&(s+=i),s+='\n			</select>\n		</div>\n		<div class="field-group clearfix">\n			<label for="fsDefault">Size</label>\n			<input type="text" name="fsDefault" id="fsDefault" class="fsDefault" value="',(i=n.fsDefault)?i=i.call(t,{hash:{},data:a}):(i=t.fsDefault,i=typeof i===l?i.apply(t):i),s+=c(i)+'"  size="3" />\n		</div>\n	</div><!-- /theme group content -->\n</div><!-- /theme group -->\n'})),Handlebars.registerPartial("rollyourown_group_modaloverlay",Handlebars.template(function(e,t,n,r,a){function o(e,t){var r,a="";return a+='\n					<option value="',(r=n.type)?r=r.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===l?r.apply(e):r),a+=c(r)+'"',(r=n.selected)?r=r.call(e,{hash:{},data:t}):(r=e.selected,r=typeof r===l?r.apply(e):r),a+=c(r)+' data-texturewidth="',(r=n.width)?r=r.call(e,{hash:{},data:t}):(r=e.width,r=typeof r===l?r.apply(e):r),a+=c(r)+'" data-textureheight="',(r=n.height)?r=r.call(e,{hash:{},data:t}):(r=e.height,r=typeof r===l?r.apply(e):r),a+=c(r)+'">',(r=n.name)?r=r.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===l?r.apply(e):r),a+=c(r)+"</option>\n				"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var i,s="",l="function",c=this.escapeExpression,u=this;return s+='<div class="theme-group clearfix" id="Overlay">\n	<div class="theme-group-header state-default">\n		<span class="arrow-icon icon-triangle-1-e">Collapse</span>\n		<a href="#">Modal Screen for Overlays </a>\n	</div><!-- /theme group Overlay -->\n	<div class="theme-group-content corner-bottom clearfix">\n		<div class="field-group field-group-background clearfix">\n			<label for="bgColorOverlay" class="background">Background color &amp; texture</label>\n			<input type="text" name="bgColorOverlay" id="bgColorOverlay" class="hex" value="',(i=n.bgColorOverlay)?i=i.call(t,{hash:{},data:a}):(i=t.bgColorOverlay,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n			<select name="bgTextureOverlay" class="texture">\n				',i=n.each.call(t,t.bgTextureOverlayOptions,{hash:{},inverse:u.noop,fn:u.program(1,o,a),data:a}),(i||0===i)&&(s+=i),s+='\n			</select>\n			<input type="text" name="bgImgOpacityOverlay" class="opacity" value="',(i=n.bgImgOpacityOverlay)?i=i.call(t,{hash:{},data:a}):(i=t.bgImgOpacityOverlay,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n			<span class="opacity-per">%</span>\n		</div>\n		<div class="field-group field-group-opacity clearfix">\n			<label for="opacityOverlay">Overlay Opacity:</label>\n			<input type="text" name="opacityOverlay" id="opacityOverlay" class="opacity" value="',(i=n.opacityOverlay)?i=i.call(t,{hash:{},data:a}):(i=t.opacityOverlay,i=typeof i===l?i.apply(t):i),s+=c(i)+'" />\n			<span class="opacity-per">%</span>\n		</div>\n	</div><!-- /theme group Overlay -->\n</div><!-- /theme group -->\n'})),this.JST["rollyourown.html"]=Handlebars.template(function(e,t,n,r,a){function o(e,t){var r,a="";return a+="\n			",r=n["if"].call(e,e.isFontType,{hash:{},inverse:p.noop,fn:p.program(2,i,t),data:t}),(r||0===r)&&(a+=r),a+="\n\n			",r=n["if"].call(e,e.isCornerType,{hash:{},inverse:p.noop,fn:p.program(4,s,t),data:t}),(r||0===r)&&(a+=r),a+="\n\n			",r=n["if"].call(e,e.isDefaultType,{hash:{},inverse:p.noop,fn:p.program(6,l,t),data:t}),(r||0===r)&&(a+=r),a+="\n\n			",r=n["if"].call(e,e.isModaloverlayType,{hash:{},inverse:p.noop,fn:p.program(8,c,t),data:t}),(r||0===r)&&(a+=r),a+="\n\n			",r=n["if"].call(e,e.isDropshadowType,{hash:{},inverse:p.noop,fn:p.program(10,u,t),data:t}),(r||0===r)&&(a+=r),a+="\n		"}function i(e,t){var a,o="";return o+="\n				",a=p.invokePartial(r.rollyourown_group_font,"rollyourown_group_font",e,n,r,t),(a||0===a)&&(o+=a),o+="\n			"}function s(e,t){var a,o="";return o+="\n				",a=p.invokePartial(r.rollyourown_group_corner,"rollyourown_group_corner",e,n,r,t),(a||0===a)&&(o+=a),o+="\n			"}function l(e,t){var a,o="";return o+="\n				",a=p.invokePartial(r.rollyourown_group_default,"rollyourown_group_default",e,n,r,t),(a||0===a)&&(o+=a),o+="\n			"}function c(e,t){var a,o="";return o+="\n				",a=p.invokePartial(r.rollyourown_group_modaloverlay,"rollyourown_group_modaloverlay",e,n,r,t),(a||0===a)&&(o+=a),o+="\n			"}function u(e,t){var a,o="";return o+="\n				",a=p.invokePartial(r.rollyourown_group_dropshadow,"rollyourown_group_dropshadow",e,n,r,t),(a||0===a)&&(o+=a),o+="\n			"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials),a=a||{};var h,d="",p=this,f="function",m=this.escapeExpression;return d+='<!-- Download theme button -->\n<a href="/download" id="downloadTheme" class="corner-all"><span class="download-icon"></span><strong>Download</strong> theme</a>\n\n<form method="get" action="',(h=n.host)?h=h.call(t,{hash:{},data:a}):(h=t.host,h=typeof h===f?h.apply(t):h),d+=m(h)+'/themeroller/" id="themeConfig">\n	<fieldset class="clearfix">\n		',h=n.each.call(t,t.groups,{hash:{},inverse:p.noop,fn:p.program(1,o,a),data:a}),(h||0===h)&&(d+=h),d+='\n\n		<button type="submit" name="submit" id="submitBtn">Preview Changes</button>\n	</fieldset>\n</form>\n'}),/*!
 * Farbtastic: jQuery color picker plug-in v1.3u
 *
 * Licensed under the GPL license:
 *   http://www.gnu.org/licenses/gpl.html
 */
function(e){e.fn.farbtastic=function(t){return e.farbtastic(this,t),this},e.farbtastic=function(t,n){var t=e(t).get(0);return t.farbtastic||(t.farbtastic=new e._farbtastic(t,n))},e._farbtastic=function(t,n){var r=this;e(t).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var a=e(".farbtastic",t);r.wheel=e(".wheel",t).get(0),r.radius=84,r.square=100,r.width=194,navigator.appVersion.match(/MSIE [0-6]\./)&&e("*",a).each(function(){if("none"!=this.currentStyle.backgroundImage){var t=this.currentStyle.backgroundImage;t=this.currentStyle.backgroundImage.substring(5,t.length-2),e(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+t+"')"})}}),r.linkTo=function(t){return"object"==typeof r.callback&&e(r.callback).unbind("keyup",r.updateValue),r.color=null,"function"==typeof t?r.callback=t:("object"==typeof t||"string"==typeof t)&&(r.callback=e(t),r.callback.bind("keyup",r.updateValue),r.callback.get(0).value&&r.setColor(r.callback.get(0).value)),this},r.updateValue=function(){this.value&&this.value!=r.color&&r.setColor(this.value)},r.setColor=function(e){var t=r.unpack(e);return r.color!=e&&t&&(r.color=e,r.rgb=t,r.hsl=r.RGBToHSL(r.rgb),r.updateDisplay()),this},r.setHSL=function(e){return r.hsl=e,r.rgb=r.HSLToRGB(e),r.color=r.pack(r.rgb),r.updateDisplay(),this},r.widgetCoords=function(t){var n=e(r.wheel).offset();return{x:t.pageX-n.left-r.width/2,y:t.pageY-n.top-r.width/2}},r.mousedown=function(t){document.dragging||(e(document).bind("mousemove",r.mousemove).bind("mouseup",r.mouseup),document.dragging=!0);var n=r.widgetCoords(t);return r.circleDrag=2*Math.max(Math.abs(n.x),Math.abs(n.y))>r.square,r.mousemove(t),!1},r.mousemove=function(e){var t=r.widgetCoords(e);if(r.circleDrag){var n=Math.atan2(t.x,-t.y)/6.28;0>n&&(n+=1),r.setHSL([n,r.hsl[1],r.hsl[2]])}else{var a=Math.max(0,Math.min(1,-(t.x/r.square)+.5)),o=Math.max(0,Math.min(1,-(t.y/r.square)+.5));r.setHSL([r.hsl[0],a,o])}return!1},r.mouseup=function(){e(document).unbind("mousemove",r.mousemove),e(document).unbind("mouseup",r.mouseup),document.dragging=!1},r.updateDisplay=function(){var t=6.28*r.hsl[0];e(".h-marker",a).css({left:Math.round(Math.sin(t)*r.radius+r.width/2)+"px",top:Math.round(-Math.cos(t)*r.radius+r.width/2)+"px"}),e(".sl-marker",a).css({left:Math.round(r.square*(.5-r.hsl[1])+r.width/2)+"px",top:Math.round(r.square*(.5-r.hsl[2])+r.width/2)+"px"}),e(".color",a).css("backgroundColor",r.pack(r.HSLToRGB([r.hsl[0],1,.5]))),"object"==typeof r.callback?(e(r.callback).css({backgroundColor:r.color,color:r.hsl[2]>.5?"#000":"#fff"}),e(r.callback).each(function(){this.value&&this.value!=r.color&&(this.value=r.color)})):"function"==typeof r.callback&&r.callback.call(r,r.color)},r.pack=function(e){var t=Math.round(255*e[0]),n=Math.round(255*e[1]),r=Math.round(255*e[2]);return"#"+(16>t?"0":"")+t.toString(16)+(16>n?"0":"")+n.toString(16)+(16>r?"0":"")+r.toString(16)},r.unpack=function(e){return 7==e.length?[parseInt("0x"+e.substring(1,3))/255,parseInt("0x"+e.substring(3,5))/255,parseInt("0x"+e.substring(5,7))/255]:4==e.length?[parseInt("0x"+e.substring(1,2))/15,parseInt("0x"+e.substring(2,3))/15,parseInt("0x"+e.substring(3,4))/15]:void 0},r.HSLToRGB=function(e){var t,n,r=e[0],a=e[1],o=e[2];return n=.5>=o?o*(a+1):o+a-o*a,t=2*o-n,[this.hueToRGB(t,n,r+.33333),this.hueToRGB(t,n,r),this.hueToRGB(t,n,r-.33333)]},r.hueToRGB=function(e,t,n){return n=0>n?n+1:n>1?n-1:n,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(.66666-n):e},r.RGBToHSL=function(e){var t,n,r,a,o,i,s=e[0],l=e[1],c=e[2];return t=Math.min(s,Math.min(l,c)),n=Math.max(s,Math.max(l,c)),r=n-t,i=(t+n)/2,o=0,i>0&&1>i&&(o=r/(.5>i?2*i:2-2*i)),a=0,r>0&&(n==s&&n!=l&&(a+=(l-c)/r),n==l&&n!=c&&(a+=2+(c-s)/r),n==c&&n!=s&&(a+=4+(s-l)/r),a/=6),[a,o,i]},e("*",a).mousedown(r.mousedown),r.setColor("#000000"),n&&r.linkTo(n)}}(jQuery),!Worker)/*@cc_on
        var onmessage   = function () {};
        var postMessage = function () {};
    @*/
var Worker=function(e){var t,n={};return"undefined"!=typeof window?t=window:global&&(t=global),t.document&&!t.require&&(t.require=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}),n.onmessage=function(){},n.postMessage=function(e){t.onmessage?t.onmessage({data:e}):setTimeout(function(){n.postMessage(e)},50)},t.postMessage=function(e){n.onmessage({data:e,type:"message"})},require(e),n};this.LZMA=function(e){var t=1,n=2,r=3,a={},o=new Worker(e===void 0?"./lzma_worker.js":e);return o.onmessage=function(e){e.data.action===r?a[e.data.callback_num]&&"function"==typeof a[e.data.callback_num].on_progress&&a[e.data.callback_num].on_progress(e.data.result):a[e.data.callback_num]&&"function"==typeof a[e.data.callback_num].on_finish&&(a[e.data.callback_num].on_finish(e.data.result),delete a[e.data.callback_num])},o.onerror=function(e){throw Error(e.message+" ("+e.filename+":"+e.lineno+")")},function(){function e(e,t,n,r,i){var s;do s=Math.floor(1e7*Math.random());while(a[s]!==void 0);a[s]={on_finish:r,on_progress:i},o.postMessage({action:e,callback_num:s,data:t,mode:n})}return{compress:function(n,r,a,o){e(t,n+"",r,a,o)},decompress:function(t,r,a){e(n,t,!1,r,a)}}}()},/*!
 * jQuery UI helper JavaScript file for History and hash support
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e,t,n){function r(){setTimeout(function(){d=!0},p)}function a(){d=!1}function o(){var e=l();g!==e&&(d===!0&&(e&&(e=e.replace(/^!*/,"")),h.trigger("change",[e])),g=e),m||(m=setInterval(o,f))}function i(e,t){t=t||{},(null!=e&&0!==e.length||/#/.test(location.href))&&(t.ignoreChange===!0&&a(),window.location.hash=e.replace(/^!*(.*)/,"!$1"),t.ignoreChange===!0&&(g=e,r()))}function s(e){return e.replace(/^[\?#]+/g,"")}function l(){return location.href.split("#")[1]}function c(){return s(window.location.search)}function u(){g="",o()}var h=new n,d=!0,p=600,f=500,m=null,g="";c()&&(location.href=location.pathname.replace(/\/$/,"")+"/#"+c()),e.Hash={init:u,on:t.proxy(h.on,h),off:t.proxy(h.off,h),update:i}}(this,jQuery,EventEmitter),/*!
 * jQuery UI helper JavaScript file for QueryString support
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e,t){var n=e.QueryString={};n.encode=function(e){return t.param(e).replace(/\+/g,"%20")},n.decode=function(e){var n={};return"string"!=typeof e||0===e.length?n:(t.each(e.replace(/\+/g,"%20").split("&"),function(e,t){t=t.split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}),n)}}(this,jQuery),/*!
 * jQuery UI helper JavaScript file for DownloadBuilder and ThemeRoller models
 * http://jqueryui.com/download/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e,t,n,r,a){function o(e){var n="";return t.each(e,function(e,t){n+=t?"1":"0"}),n}function i(e){var n=[];return t.each(e.split(""),function(e,t){n.push("0"===t?!1:!0)}),n}function s(e,n){var r,a={};for(r in e)-1===t.inArray(r,n)&&(a[r]=e[r]);return a}function l(e,n){var r={};return t.each(n,function(t,n){n in e&&(r[n]=e[n])}),r}function c(e,n){var r,a=function(e){var t=parseInt(e,16);return t>=128&&(t-=256),t};for(r=[];e.length;)r.push(e.slice(-2)),e=e.slice(0,-2);r=r.reverse(),v.done(function(){g.decompress(t.map(r,a),function(e){n(JSON.parse(e))})})}function u(e,n){var r=JSON.stringify(e),a=function(e){var t;return 0>e&&(e+=256),t=e.toString(16),1===t.length&&(t="0"+t),t};v.done(function(){g.compress(r,0,function(e){n(t.map(e,a).join(""))})})}function h(e,n,r){t.isEmptyObject(n)?r(n):u(n,function(t){var o,i=a.encode(n).length,s={};s[e]=t,o=a.encode(s).length,r(i>o?s:n)})}var d,p,f,m,g=new r(t("[data-lzma-worker]").data("lzma-worker")),v=t.Deferred();d=function(){this.attributes={},this.emitter=new n,this.on=t.proxy(this.emitter.on,this.emitter)},d.prototype={set:function(e){var n=this,r=!1,a={},o={};return t.each(e,function(t){n.attributes[t]!==e[t]&&(a[t]=r=!0,t in n.attributes||(o[t]=!0),n.attributes[t]=e[t])}),r&&(this.emitter.trigger("change:before",[a,o]),this.emitter.trigger("change",[a,o])),this},get:function(e){return this.attributes[e]},has:function(e){return e in this.attributes},querystring:function(e){var n,r=this,o=this.attributes,i=t.Deferred();return e=e||{},e.pick?o=l(o,e.pick):e.omit&&(o=s(o,e.omit)),n=e.concurrencyDelay||this.querystringDelay,"shorten"in e&&!e.shorten?i.resolve(a.encode(this._relevantAttributes(o))):(n&&clearTimeout(n),n=setTimeout(function(){r._shorten.call(r,r._relevantAttributes.call(r,o),function(e){i.resolve(a.encode(e))})},200)),i}},p=function(e){if("object"!=typeof e)throw Error("parameter required");d.call(this),this.defaults={},this.baseVars=e.baseVars,this.host=e.host,this.orderedComponentsDfd=t.Deferred(),this.themeParamsUnzipping=t.Deferred().resolve(),this.on("change:before",t.proxy(this._change,this))},t.extend(p.prototype,d.prototype,{_change:function(e){var n=this;"components"in e&&this.orderedComponentsDfd.done(function(){var r,a;delete e.components,r=i(n.get.call(n,"components")),delete n.attributes.components,a={},t.each(n.orderedComponents,function(e,t){a[t]=r[e]}),n.set.call(n,a)}),"zThemeParams"in e&&(this.themeParamsUnzipping=t.Deferred(),delete e.zThemeParams,c(this.get("zThemeParams"),function(e){delete e.zThemeParams,delete n.attributes.zThemeParams,n.set.call(n,{themeParams:a.encode(e)}),n.themeParamsUnzipping.resolve()}))},_relevantAttributes:function(e){var n=this.defaults,r=[];return t.each(n,function(t){e[t]===n[t]&&r.push(t)}),-1===t.inArray("version",r)||t.isEmptyObject(s(e,["folderName","scope","themeParams","version"]))||r.splice(t.inArray("version",r),1),r.length?s(e,r):e},_shorten:function(e,n){var r=this,i=l(e,["folderName","scope","version"]),c=t.Deferred(),u=t.Deferred();this.themeParamsUnzipping.done(function(){"themeParams"in e&&"none"!==e.themeParams?h("zThemeParams",a.decode(e.themeParams),function(e){t.extend(i,e),c.resolve()}):("themeParams"in e&&(i.themeParams=e.themeParams),c.resolve())}),!this.orderedComponents&&this.get("components")?(i.components=this.get("components"),u.resolve()):t.isEmptyObject(s(e,["folderName","scope","themeParams","version"]))?u.resolve():this.orderedComponentsDfd.done(function(){var n=t.map(r.orderedComponents,function(t){return t in e?e[t]:!0});i.components=o(n),u.resolve()}),t.when(c,u).done(function(){n(i)})},setOrderedComponents:function(e){this.orderedComponents=e,this.orderedComponentsDfd.resolve()},parseHash:function(e){this.set(a.decode(e))},unsetOrderedComponents:function(){delete this.orderedComponents,this.orderedComponentsDfd=t.Deferred()},url:function(e){var t=this;this.themeParamsUnzipping.done(function(){t.querystring.call(t,{concurrencyDelay:t._urlQuerystringDelay}).done(function(t){e("/download/"+(t.length?"?"+t:""))})})},themerollerUrl:function(e){var t,n=this;this.attributes,this.themeParamsUnzipping.done(function(){t=n.has.call(n,"themeParams")&&"none"!==n.get.call(n,"themeParams")?a.decode(n.get.call(n,"themeParams")):{},n.querystring.call(n,{concurrencyDelay:n._themerollerUrlQuerystringDelay,omit:["folderName","themeParams"]}).done(function(r){var a=t,o=new f({baseVars:n.baseVars,host:n.host});r.length&&(a.downloadParams=r),o.set(a),o.url(e)})})},themeUrl:function(e){var t=this;this.themeParamsUnzipping.done(function(){t.querystring.call(t,{concurrencyDelay:t._themeUrlQuerystringDelay,pick:["themeParams"],shorten:!1}).done(function(n){e(t.host+"/download/theme"+(n.length?"?"+n:""))})})}}),f=function(e){if("object"!=typeof e)throw Error("parameter required");d.call(this),this.baseVars=e.baseVars,this.host=e.host,this.on("change:before",t.proxy(this._change,this))},t.extend(f.prototype,d.prototype,{_change:function(e){var t=this;"zThemeParams"in e&&(delete e.zThemeParams,c(this.get("zThemeParams"),function(e){delete t.attributes.zThemeParams,t.set.call(t,e)}))},_relevantAttributes:function(e){var n,r=!0;for(n in this.baseVars)if(e[n]!==this.baseVars[n]){r=!1;break}return r?s(e,t.map(this.baseVars,function(e,t){return t})):e},_shorten:function(e,n){var r=l(e,["downloadParams"]),a=t.Deferred();h("zThemeParams",s(e,["downloadParams"]),function(e){t.extend(r,e),a.resolve()}),a.done(function(){n(r)})},parseHash:function(e){this.set(a.decode(e))},url:function(e){this.querystring({concurrencyDelay:this._urlQuerystringDelay}).done(function(t){e("/themeroller/"+(t.length?"?"+t:""))})},downloadUrl:function(e,t){var n,r,o,i="downloadParams"in this.attributes?a.decode(this.attributes.downloadParams):{};t?(i.zThemeParams=t,r=a.encode(i),e("/download/"+(r.length?"?"+r:""))):(o=a.encode(s(this.attributes,["downloadParams"])),o.length&&(i.themeParams=o),n=new p({host:this.host}),n.set(i).url(function(t){e(t)}))},parsethemeUrl:function(){var e=s(this.attributes,["downloadParams","zThemeParams"]),t="downloadParams"in this.attributes?a.decode(this.attributes.downloadParams):{};return t.version&&(e.version=t.version),this.host+"/themeroller/parsetheme.css?"+a.encode(e)},rollYourOwnUrl:function(){var e;return t.isEmptyObject(s(this.attributes,["downloadParams"]))||(e={themeParams:a.encode(s(this.attributes,["downloadParams"]))}),this.host+"/themeroller/rollyourown"+(null==e?"":"?"+a.encode(e))}}),m=setInterval(function(){(("function"==typeof Worker||"object"==typeof Worker)&&null!=Worker.prototype.postMessage||null!=window.onmessage)&&(v.resolve(),clearInterval(m))},200),e.Model={DownloadBuilder:p,ThemeRoller:f}}(this,jQuery,EventEmitter,LZMA,QueryString),/*!
 * jQuery UI ThemeRoller client-side JavaScript file
 * http://jqueryui.com/themeroller/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e,t,n,r,a){function o(e,t,n){return S+"/themeroller/images/ui-bg_"+e.replace(/_/g,"-")+"_100_555_"+t+"x"+n+".png"}function i(e){return/[^#a-fA-F0-9]/g.test(e)?!1:0!==e.lastIndexOf("#")?!1:4!==e.length&&7!==e.length?!1:!0}function s(){e("body").append('<link href="'+b.parsethemeUrl()+'" type="text/css" rel="Stylesheet" />');var t=e("link[href*=parsetheme\\.css]");t.length>1&&setTimeout(function(){t.not(":last").remove()},5e3)}function l(){b.set(a.decode(P.find(".application form").serialize()))}function c(t,n){return function(){var r=6.28*t.hsl[0];e(".h-marker",n).css({left:Math.round(Math.sin(r)*t.radius+t.width/2)+"px",top:Math.round(-Math.cos(r)*t.radius+t.width/2)+"px"}),e(".sl-marker",n).css({left:Math.round(t.square*(.5-t.hsl[1])+t.width/2)+"px",top:Math.round(t.square*(.5-t.hsl[2])+t.width/2)+"px"}),e(".color",n).css("backgroundColor",t.pack(t.HSLToRGB([t.hsl[0],1,.5]))),"object"==typeof t.callback?(e(t.callback).css({backgroundColor:t.color,color:t.hsl[2]>.5?"#000":"#fff"}),e(t.callback).each(function(){if(this.value&&this.value!==t.color){var n=e(this);n.val(t.color),t.triggerChange&&clearInterval(t.triggerChange),t.triggerChange=setTimeout(function(){n.trigger("change")},y)}})):"function"==typeof t.callback&&t.callback.call(t,t.color)}}function u(){e("#content").attr("id","themeroller-content"),e("#rollerTabs").tabs(),p(),e("body").on("click",function(t){e(t.target).is("input.hex.focus")||e(t.target).parent().is("div.texturePicker.focus")||(P.find("div.picker-on").removeClass("picker-on"),e("#picker").remove(),P.find("input.focus, select.focus").removeClass("focus"),P.find("div.texturePicker ul:visible").hide().parent().css("position","static"))}),e('#help a[href="#rollYourOwn"]').on("click",function(t){e("#rollerTabs").tabs("option","active",0),t.preventDefault()}),e('#help a[href="#themeGallery"]').on("click",function(t){e("#rollerTabs").tabs("option","active",1),t.preventDefault()}),e("#reverse-background").on("click",function(){var t=P,n=P.find(".demoHeaders, #demo-options");e(this).is(":checked")?(t.css({background:"#333"}),n.css({color:"#CCC"})):(t.css({background:"#FFF"}),n.css({color:"#000"}))})}function h(){e("#rollYourOwn").html(n["rollyourown.html"](d())),b.downloadUrl(function(t){e("#downloadTheme").attr("href",t)}),e("#downloadTheme").on({click:function(){var t=e(this).parent().find("form");return t.find(".state-error").length?!1:undefined}}),P.find("li.state-default, div.state-default").mouseenter(function(){e(this).addClass("state-hover")}).mouseleave(function(){e(this).removeClass("state-hover")}),P.find("input.hex").on({change:function(){e(this).trigger("validate")},click:function(t){var n,r=e('<div id="picker"></div>');e(this).addClass("focus"),e("#picker").remove(),P.find("div.picker-on").removeClass("picker-on"),P.find("div.texturePicker ul:visible").hide(0).parent().css("position","static"),e(this).after(r).parent().addClass("picker-on"),n=e.farbtastic(r,this),n.updateDisplay=c(n,r.find(".farbtastic")),t.preventDefault()},validate:function(){i(e(this).val())?e(this).removeClass("state-error"):e(this).addClass("state-error")}}).trigger("validate").wrap('<div class="hasPicker"></div>').applyFarbtastic(),P.find("input, select").focus(function(){P.find("input.focus, select.focus").removeClass("focus"),e(this).addClass("focus")}).blur(function(){e(this).removeClass("focus")}),P.find("select.texture").each(function(){e(this).after('<div class="texturePicker"><a href="#"></a><ul></ul></div>');var t=e(this).next(),n=(t.find("a"),t.find("ul")),r=t.prev().get(0).selectedIndex;e(this).find("option").each(function(){n.append('<li class="'+e(this).attr("value")+'" data-texturewidth="'+e(this).attr("data-texturewidth")+'" data-textureheight="'+e(this).attr("data-textureheight")+'" style="background: #555555 url('+o(e(this).attr("value"),e(this).attr("data-texturewidth"),e(this).attr("data-textureheight"))+') 50% 50% repeat"><a href="#" title="'+e(this).text()+'">'+e(this).text()+"</a></li>"),e(this).get(0).index===r&&t.attr("title",e(this).text()).css("background","#555555 url("+o(e(this).attr("value"),e(this).attr("data-texturewidth"),e(this).attr("data-textureheight"))+") 50% 50% repeat")}),n.find("li").on("click",function(r){t.prev().get(0).selectedIndex=t.prev().find("option[value="+e(this).attr("class").replace(/\./g,"\\.")+"]").get(0).index,t.attr("title",e(this).text()).css("background","#555555 url("+o(e(this).attr("class"),e(this).attr("data-texturewidth"),e(this).attr("data-textureheight"))+") 50% 50% repeat"),n.fadeOut(100),l(),r.preventDefault()}),n.hide(),t.on("click",function(r){e(this).addClass("focus"),e("#picker").remove();var a;n.is(":hidden")&&(a=!0),P.find("div.texturePicker ul:visible").hide().parent().css("position","static"),a===!0&&(t.css("position","relative"),n.show()),r.preventDefault()})}),P.find("input.opacity").on("change",function(){var t,n=parseInt(e(this).val(),10);isNaN(n)?e(this).val(""):(t=Math.max(0,Math.min(100,n)),e(this).val()!==t&&e(this).val(t))}),P.find("div.theme-group .theme-group-header").addClass("corner-all").spinDown(),P.find(".application form").on({change:function(e){l(),e.preventDefault()},submit:function(e){e.preventDefault()},validate:function(){var t=e(this).parent().find("form");t.find(".state-error").length?e("#downloadTheme").addClass("ui-state-disabled"):e("#downloadTheme").removeClass("ui-state-disabled")}}),k.length>0&&e.each(k,function(){P.find(".theme-group-content:eq( "+this+" )").prev().trigger("click")}),C&&P.find("form").find("input, select, .texturePicker").eq(C).click()}function d(){var t,n,r,a=b.attributes;return t=function(t){var a={font:function(t){return{isFontType:!0,options:e.map(["normal","bold"],function(e){return{name:e,type:e,selected:e===t.fwDefault?" selected":""}})}},corner:function(){return{isCornerType:!0}},"default":function(t){var a={Header:"Header/Toolbar",Content:"Content",Default:"Clickable: default state",Hover:"Clickable: hover state",Active:"Clickable: active state",Highlight:"Highlight",Error:"Error"},o={Header:"ui-widget-header",Content:"ui-widget-content",Default:"ui-state-default",Hover:"ui-state-hover",Active:"ui-state-active",Highlight:"ui-state-highlight",Error:"ui-state-error"},i={isDefaultType:!0,title:a[t.name],"class":o[t.name]};return e.each(["bgColor","bgImgOpacity","borderColor","fc","iconColor"],function(){var e=this;i[e+"Name"]=e+t.name,i[e+"Value"]=t[e+t.name]}),e.each(["bgColor","borderColor","fc","iconColor"],function(){var e=this;i[e+"Value"]=n(i[e+"Value"])}),i.bgTextureName="bgTexture"+t.name,i.bgTextureOptions=r(t["bgTexture"+t.name]),i},modaloverlay:function(e){var t=n(e.bgColorOverlay);return{isModaloverlayType:!0,bgColorOverlay:t,bgTextureOverlayOptions:r(e.bgTextureOverlay,"true")}},dropshadow:function(e){var t=n(e.bgColorShadow);return{isDropshadowType:!0,bgColorShadow:t,bgTextureShadowOptions:r(e.bgTextureShadow,"true")}}};return e.map(t,function(t){return e.extend(t,a[t.type](t))})},n=function(e){return 3!==e.length&&6!==e.length||!/^[0-9a-f]+$/i.test(e)||(e="#"+e),e},r=function(t,n){var r=[];return e.each(E,function(){var e=this,a=e.type,o=e.type===t?' selected="selected"':"";e.width*e.height>=36e4&&(e.width=e.height=16),"true"===n?"glass"!==e.type&&r.push({type:e.type,selected:o,width:e.width,height:e.height,name:a}):r.push({type:e.type,selected:o,width:e.width,height:e.height,name:a})}),r},{host:S,groups:t([{type:"font",ffDefault:a.ffDefault,fsDefault:a.fsDefault,fwDefault:a.fwDefault},{type:"corner",cornerRadius:a.cornerRadius},{type:"default",name:"Header",bgColorHeader:a.bgColorHeader,bgTextureHeader:a.bgTextureHeader,bgImgOpacityHeader:a.bgImgOpacityHeader,borderColorHeader:a.borderColorHeader,fcHeader:a.fcHeader,iconColorHeader:a.iconColorHeader},{type:"default",name:"Content",bgColorContent:a.bgColorContent,bgTextureContent:a.bgTextureContent,bgImgOpacityContent:a.bgImgOpacityContent,borderColorContent:a.borderColorContent,fcContent:a.fcContent,iconColorContent:a.iconColorContent},{type:"default",name:"Default",bgColorDefault:a.bgColorDefault,bgTextureDefault:a.bgTextureDefault,bgImgOpacityDefault:a.bgImgOpacityDefault,borderColorDefault:a.borderColorDefault,fcDefault:a.fcDefault,iconColorDefault:a.iconColorDefault},{type:"default",name:"Hover",bgColorHover:a.bgColorHover,bgTextureHover:a.bgTextureHover,bgImgOpacityHover:a.bgImgOpacityHover,borderColorHover:a.borderColorHover,fcHover:a.fcHover,iconColorHover:a.iconColorHover},{type:"default",name:"Active",bgColorActive:a.bgColorActive,bgTextureActive:a.bgTextureActive,bgImgOpacityActive:a.bgImgOpacityActive,borderColorActive:a.borderColorActive,fcActive:a.fcActive,iconColorActive:a.iconColorActive},{type:"default",name:"Highlight",bgColorHighlight:a.bgColorHighlight,bgTextureHighlight:a.bgTextureHighlight,bgImgOpacityHighlight:a.bgImgOpacityHighlight,borderColorHighlight:a.borderColorHighlight,fcHighlight:a.fcHighlight,iconColorHighlight:a.iconColorHighlight},{type:"default",name:"Error",bgColorError:a.bgColorError,bgTextureError:a.bgTextureError,bgImgOpacityError:a.bgImgOpacityError,borderColorError:a.borderColorError,fcError:a.fcError,iconColorError:a.iconColorError},{type:"modaloverlay",bgColorOverlay:a.bgColorOverlay,bgTextureOverlay:a.bgTextureOverlay,bgImgOpacityOverlay:a.bgImgOpacityOverlay,opacityOverlay:a.opacityOverlay},{type:"dropshadow",bgTextureShadow:a.bgTextureShadow,bgColorShadow:a.bgColorShadow,bgImgOpacityShadow:a.bgImgOpacityShadow,opacityShadow:a.opacityShadow,thicknessShadow:a.thicknessShadow,offsetTopShadow:a.offsetTopShadow,offsetLeftShadow:a.offsetLeftShadow,cornerRadiusShadow:a.cornerRadiusShadow}])}}function p(){e("#themeGallery a").on("click",function(e){b.set(a.decode(this.href.split("?")[1])),e.preventDefault()}).attr("title","Click to preview this theme").each(function(){e(this).after('<a href="#" class="download" title="Download this theme">Download</a><a href="#" class="edit" title="Customize this theme">Edit</a>')}).parent().find("a.edit").on("click",function(t){w=!0,b.set(a.decode(e(this).parent().find("a:first-child").attr("href").split("?")[1])),e("#rollerTabs").tabs("option","active",0),t.preventDefault()}),f()}function f(){e("#themeGallery a.download").each(function(){var t=e(this);b.downloadUrl(function(e){t.attr("href",e)},t.parent().find("a:first-child").data("z-theme-params"))})}function m(){e("#accordion").accordion({header:"h3"}),e("#autocomplete").autocomplete({source:["c++","java","php","coldfusion","javascript","asp","ruby","python","c","scala","groovy","haskell","perl"]}),e("#button").button(),e("#button-icon").button({icon:"ui-icon-gear",showLabel:!1}),e("#radioset input").checkboxradio(),e("#controlgroup").controlgroup(),e("#tabs").tabs(),e("#dialog").dialog({autoOpen:!1,width:600,buttons:[{text:"Ok",click:function(){e(this).dialog("close")}},{text:"Cancel",click:function(){e(this).dialog("close")}}]}),e("#dialog-link").on("click",function(t){e("#dialog").dialog("open"),t.preventDefault()}),e("#datepicker").datepicker({inline:!0}),e("#slider").slider({range:!0,values:[17,67]}),e("#progressbar").progressbar({value:20}),e("#dialog-link, #icons li").mouseenter(function(){e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}),e("#spinner").spinner(),e("#menu").menu(),e("#selectmenu").selectmenu({width:150}),e("#tooltip").tooltip()}function g(){k=[],e("div.theme-group-content").each(function(t){e(this).is(":visible")&&k.push(t)}),C=null,P.find("form").find("input, select, .texturePicker").each(function(t){e(this).is(".focus")&&(C=t)}),h()}function v(t){var n;return e.each(t,function(t){var r,a,o;e.inArray(t,T)>=0&&(o=b.get(t),r=o.replace(/[0-9]*_([^\.]*).png/,"$1"),o!==r&&(a={},a[t]=r,b.set(a),n=!0))}),n?!0:undefined}var y,b,w,x,C=null,k=[],T="bgTextureDefault bgTextureHover bgTextureActive bgTextureHeader bgTextureContent bgTextureHighlight bgTextureError bgTextureOverlay bgTextureShadow".split(" "),P=e("#themeroller"),O=a.decode(P.data("base-vars")),S=P.data("download-jqueryui-host"),E=P.data("textures");/^stage\./.test(location.host)&&(S=S.replace(/(download\.)/,"stage.$1")),y=200,e.fn.spinDown=function(){return this.on("click",function(t){var n=e(this);n.next().slideToggle(100),n.find(".arrow-icon").toggleClass("icon-triangle-1-s").end().toggleClass("state-active"),n.is(".corner-all")?n.removeClass("corner-all").addClass("corner-top"):n.is(".corner-top")&&n.removeClass("corner-top").addClass("corner-all"),t.preventDefault()})},e.fn.applyFarbtastic=function(){return this.each(function(){e("<div/>").farbtastic(this).remove()})},b=new r.ThemeRoller({baseVars:O,host:S}),b.on("change",function(n){v(n)||("downloadParams"in n&&f(),!w||"zThemeParams"in n||(w=!1,g(),b.downloadUrl(function(t){e("#downloadTheme").attr("href",t)})),b.downloadUrl(function(t){e("#downloadTheme").attr("href",t)}),s(),x?x=!1:b.querystring().done(function(e){t.update(e,{ignoreChange:!0})}))}),t.on("change",function(e){w=!0,b.parseHash(e)}),x=!0,b.set(O),u(),h(),m(),t.init()}(jQuery,Hash,JST,Model,QueryString);